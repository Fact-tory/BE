# =================================
# CommonGround BE Redis 설정 파일
# 개발 환경용 최적화 설정
# =================================

# 기본 네트워크 설정
bind 0.0.0.0
port 6379
protected-mode no

# 메모리 관리 설정
maxmemory 256mb
maxmemory-policy allkeys-lru

# 데이터 지속성 설정 (개발환경용 - 성능 우선)
save 900 1      # 900초 내 1개 이상 변경시 저장
save 300 10     # 300초 내 10개 이상 변경시 저장
save 60 10000   # 60초 내 10000개 이상 변경시 저장

# AOF(Append Only File) 설정 - 비활성화 (개발환경 성능 최적화)
appendonly no

# 로그 설정
loglevel notice
logfile ""

# 클라이언트 연결 설정
timeout 300
tcp-keepalive 300
tcp-backlog 511

# 데이터베이스 수
databases 16

# 슬로우 로그 설정 (10ms 이상 쿼리 로깅)
slowlog-log-slower-than 10000
slowlog-max-len 128

# 키 만료 정책
# 만료된 키 삭제를 위한 CPU 시간 비율 (1-10, 기본값 1)
hz 10